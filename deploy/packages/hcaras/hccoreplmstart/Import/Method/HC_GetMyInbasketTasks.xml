<AML>
 <Item type="Method" id="BF72795B35E04873B0BB239B90C5C58A" action="add">
  <comments>Gets custom Inbasket items for client</comments>
  <execution_allowed_to keyed_name="World" type="Identity">A73B655731924CD0B027E4F4D5FCC0A9</execution_allowed_to>
  <method_code><![CDATA[Dictionary<string,string> typeLabelMap = new Dictionary<string,string>();
typeLabelMap.Add("CBA93BEFFB4F499CAF122CB79E204983", "ECO");

Innovator inn = this.getInnovator();
string amlQuery = @"<AML><Item type='InBasket Task' action='get' returnMode='itemsOnly' orderBy='start_date DESC'>
				<status condition='eq'>Active</status>
				<my_assignment condition='eq'>1</my_assignment>
			</Item></AML>";
			
			
Item result = inn.applyAML(amlQuery);

for(int i =0;i<result.getItemCount();i++) {
    Item temp = result.getItemByIndex(i);
    string key = temp.getProperty("item_type_id");
    string typeName = key; 
    if (typeLabelMap.ContainsKey(key)) {
        typeName = typeLabelMap[key];
    }
    
    result.getItemByIndex(i).setProperty("item_type_name", typeName);
}

return result;
]]></method_code>
  <method_type>C#</method_type>
  <name>HC_GetMyInbasketTasks</name>
 </Item>
</AML>